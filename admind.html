<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Panel Admin</title>
<style>
  body { font-family: Arial,sans-serif; text-align:center; background:#f0f0f0; }
  h1 { margin:20px; }
  table { border-collapse:collapse; width:80%; margin:0 auto; }
  th, td { border:1px solid #444; padding:8px; text-align:center; }
  th { background:#07a7c498; }
  button { padding:5px 10px; border:none; border-radius:5px; cursor:pointer; }
  button.delete { background:red; color:rgb(255, 255, 255); }
  button.delete:hover { background:darkred; }
</style>
</head>
<body>

<h1>Panel de Administración</h1>

<p id="totalUsuarios"></p>

<table>
  <thead>
    <tr>
      <th>Usuario</th>
      <th>Correo</th>
      <th>Veces Registrado</th>
      <th>Tareas</th>
      <th>Acción</th>
    </tr>
  </thead>
  <tbody id="userTable"></tbody>
</table>

<script>
let users = JSON.parse(localStorage.getItem('users')) || [];
const tbody=document.getElementById("userTable");
const totalUsuarios=document.getElementById("totalUsuarios");

function renderUsers(){
  tbody.innerHTML="";
  users.forEach((u,i)=>{
    let row=`<tr>
      <td>${u.name}</td>
      <td>${u.email}</td>
      <td>${u.registerCount}</td>
      <td>${u.tasks ? u.tasks.length : 0}</td>
      <td><button class="delete" onclick="deleteUser(${i})">Eliminar</button></td>
    </tr>`;
    tbody.innerHTML+=row;
  });
  totalUsuarios.textContent="Usuarios registrados: "+users.length;
}
function deleteUser(i){
  users.splice(i,1);
  localStorage.setItem('users',JSON.stringify(users));
  renderUsers();
}
renderUsers();
</script>

</body>
</html>
